{"version":3,"sources":["apollo.ts","components/footer.tsx","hooks/use-me.tsx","hooks/use-logout.tsx","components/header.tsx","components/not-found.tsx","components/form-error.tsx","components/button.tsx","pages/edit-account.tsx","pages/home.tsx","pages/delete-account.tsx","pages/user-detail.tsx","pages/my-profile.tsx","__generated__/globalTypes.ts","pages/product-detail.tsx","pages/login.tsx","pages/signup.tsx","pages/upload-product.tsx","pages/edit-product.tsx","router/logged-in-router.tsx","config.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["sessionId","Cookies","get","isLoggedInVar","makeVar","Boolean","link","createUploadLink","uri","credentials","client","ApolloClient","cache","InMemoryCache","typePolicies","Query","fields","isLoggedIn","read","Github","Box","Link","color","href","rel","target","GitHub","paddingY","paddingTop","Date","getFullYear","useStyles","makeStyles","theme","root","display","flexDirection","alignItems","textAlign","spacing","footer","paddingBottom","marginTop","Footer","classes","className","Container","maxWidth","ME","gql","useMe","useQuery","LOGOUT","useLogout","history","useHistory","useMutation","onCompleted","data","logout","ok","push","remove","clearStore","window","location","reload","toolbar","justifyContent","toolbarTitle","flex","Header","title","useReactiveVar","loading","logoutMutation","React","useState","anchorEl","setAnchorEl","handleClose","Fragment","Toolbar","Button","style","marginRight","size","onClick","alt","width","height","src","Typography","component","variant","align","noWrap","event","currentTarget","Menu","id","keepMounted","open","onClose","MenuItem","paper","NotFound","to","FormError","errorMessage","submit","margin","SubmitButton","message","validate","type","fullWidth","disabled","CircularProgress","UPDATE_USER","padding","minHeight","avatar","backgroundColor","palette","secondary","main","form","deleteButton","CssTextField","withStyles","borderColor","TextField","EditAccount","samePassword","setSamePassword","useEffect","useForm","mode","register","handleSubmit","getValues","errors","formState","updateUser","updateUserMutation","updateUserOutput","updateUserLoading","Avatar","noValidate","onSubmit","username","email","password","confirmPassword","variables","input","name","label","inputRef","sameUsername","value","me","autoComplete","pattern","minLength","isValid","error","scrollTo","GET_IN_PROGRESS_PRODUCTS","GET_WAITING_PRODUCTS","CREATE_BIDDING","UPDATE_BIDDING","progressButton","card","cardImage","cardContent","flexGrow","page","pageNumber","fontSize","borderRadius","noContent","uploadContainer","uploadButton","indigo","minWidth","Home","tab","setTab","inProgressPage","setInProgressPage","waitingPage","setWaitingPage","useLazyQuery","updateInProgressProducts","inProgressProducts","inProgressProductsLoading","updateWatingProducts","waitingProducts","waitingProductsLoading","createBidding","createBiddingMutation","createBiddingOutput","createBiddingLoading","updateBidding","updateBiddingMutation","updateBiddingOutput","updateBiddingLoading","setOpen","productId","setProductId","startPrice","setStartPrice","isInProgress","setIsInProgress","handleClickOpen","productStartPrice","productProgress","renderer","minutes","seconds","completed","IN_PROGRESS_TEXT_1","fontWeight","IN_PROGRESS_TEXT_2","WAITING_TEXT_1","WAITING_TEXT_2","Grid","container","justify","item","getInProgressProducts","products","length","map","product","xs","sm","md","Card","CardMedia","image","picture","url","CardContent","gutterBottom","productName","date","remainingTime","bidPrice","maxHeight","description","CardActions","maxPage","getWaitingProducts","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","autoFocus","DialogActions","DELETE_USER","DeleteAccount","deleteUserMutation","deleteUser","deleteUserOutput","deleteUserLoading","USER_DETAIL","productLoading","mainContent","subtitle","productList","productItems","waitingItems","inProgressItems","productTitle","textDecoration","cursor","countdown","noProduct","UserDetail","useParams","userId","userDetailQuery","userDetail","user","inProgress","waiting","Progress","MY_PROFILE","buttonContainer","marginLeft","MyProfile","userDetailOutput","userDetailLoading","myProfileQuery","myProfileOutput","myProfileLoading","myProfile","uploadedProduct","progress","inProgressProduct","closedProduct","paidProduct","completedProduct","PRODUCT_DETAIL","EDIT_PROGRESS","DELETE_PRODUCT","stepper","primary","layout","breakpoints","up","marginBottom","listItem","textLink","text","button","dark","editButton","ProductDetail","activeStep","setActiveStep","meOutput","productDetailQuery","productDetailOutput","productDetailLoading","editProgress","editProgressMutation","editProgressOutput","editProgressLoading","deleteProduct","deleteProductMutation","deleteProductOutput","deleteProductLoading","productDetail","Waiting","InProgress","Closed","Paid","Completed","Stepper","alternativeLabel","Step","StepLabel","List","disablePadding","ListItem","ListItemText","bidder","seller","aria-describedby","LOGIN","Login","login","loginMutation","loginOutput","required","CREATE_USER","Signup","createUser","createUserMutation","createUserOutput","UPLOAD_PRODUCT","UPLOAD_IMAGE","fileList","UploadProduct","fileName","setFileName","uploadProduct","uploadImageMutation","file","uploadProductMutation","uploadProductOutput","uploadProductLoading","uploadImage","uploadImageOutput","uploadImageLoading","watch","reset","InputProps","startAdornment","InputAdornment","position","accept","hidden","ref","onChange","EDIT_PRODUCT","EditProduct","newImage","setNewImage","deleteImage","setDeleteImage","meLoading","editProduct","editProductMtation","editProductOutput","editProductLoading","defaultValue","LoggedInRouter","path","exact","createMuiTheme","light","contrastText","overrides","MuiStepIcon","MuiCssBaseline","body","App","updatedTheme","unstable_createMuiStrictModeTheme","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ccf0c808.chunk.js","sourcesContent":["import { ApolloClient, InMemoryCache, makeVar } from \"@apollo/client\";\nimport Cookies from \"js-cookie\";\nimport { createUploadLink } from \"apollo-upload-client\";\n\nconst sessionId = Cookies.get(\"connect.sid\");\nexport const isLoggedInVar = makeVar(Boolean(sessionId));\n\nconst link = createUploadLink({\n  uri: \"https://localhost:4000/graphql\",\n  credentials: \"include\",\n});\n\nexport const client = new ApolloClient({\n  link,\n  cache: new InMemoryCache({\n    typePolicies: {\n      Query: {\n        fields: {\n          isLoggedIn: {\n            read() {\n              return isLoggedInVar();\n            },\n          },\n        },\n      },\n    },\n  }),\n});\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Link from \"@material-ui/core/Link\";\nimport { GitHub } from \"@material-ui/icons\";\nimport Box from \"@material-ui/core/Box\";\n\nconst Github = () => {\n  return (\n    <Box>\n      <Link\n        color=\"inherit\"\n        href=\"https://github.com/naIlSeong\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        <GitHub />\n      </Link>\n      <Box paddingY=\"6px\">\n        <Link\n          color=\"inherit\"\n          href=\"https://github.com/naIlSeong/fresh-meat-backend\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          Backend Repo\n        </Link>\n      </Box>\n      <Box>\n        <Link\n          color=\"inherit\"\n          href=\"mailto:ilseongdev@gmail.com\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          ilseongdev@gmail.com\n        </Link>\n        <Box paddingTop=\"6px\">&copy; {new Date().getFullYear()} Fresh meat</Box>\n      </Box>\n    </Box>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    paddingTop: theme.spacing(8),\n  },\n  footer: {\n    paddingBottom: theme.spacing(2),\n    marginTop: \"auto\",\n  },\n}));\n\nexport const Footer = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <footer className={classes.footer}>\n        <Container maxWidth=\"sm\">\n          <Github />\n        </Container>\n      </footer>\n    </div>\n  );\n};\n","import { gql, useQuery } from \"@apollo/client\";\nimport { meQuery } from \"../__generated__/meQuery\";\n\nconst ME = gql`\n  query meQuery {\n    me {\n      id\n      username\n      email\n    }\n  }\n`;\n\nexport const useMe = () => {\n  return useQuery<meQuery>(ME);\n};\n","import { gql, useMutation } from \"@apollo/client\";\nimport { client, isLoggedInVar } from \"../apollo\";\nimport { logout } from \"../__generated__/logout\";\nimport Cookies from \"js-cookie\";\nimport { useHistory } from \"react-router-dom\";\n\nconst LOGOUT = gql`\n  mutation logout {\n    logout {\n      ok\n      error\n    }\n  }\n`;\n\nexport const useLogout = () => {\n  const history = useHistory();\n  const onCompleted = (data: logout) => {\n    const {\n      logout: { ok },\n    } = data;\n    if (ok) {\n      isLoggedInVar(false);\n      history.push(\"/\");\n      Cookies.remove(\"connect.sid\");\n      client.clearStore();\n      window.location.reload();\n    }\n  };\n\n  return useMutation<logout>(LOGOUT, { onCompleted });\n};\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useHistory } from \"react-router-dom\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { useMe } from \"../hooks/use-me\";\nimport { useLogout } from \"../hooks/use-logout\";\nimport { isLoggedInVar } from \"../apollo\";\nimport { useReactiveVar } from \"@apollo/client\";\n\ntype IProps = {\n  title: string;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    paddingBottom: theme.spacing(8),\n    paddingTop: theme.spacing(2),\n  },\n  toolbarTitle: {\n    flex: 1,\n  },\n}));\n\nexport const Header = ({ title }: IProps) => {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const history = useHistory();\n  const classes = useStyles();\n  const { data, loading } = useMe();\n  const [logoutMutation] = useLogout();\n\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <React.Fragment>\n      <Toolbar className={classes.toolbar}>\n        <Button\n          style={{ marginRight: \"36px\" }}\n          size=\"small\"\n          onClick={() => {\n            history.push(\"/\");\n          }}\n        >\n          <img\n            alt=\"home\"\n            width=\"40px\"\n            height=\"40px\"\n            src={process.env.PUBLIC_URL + \"/meat-logo.png\"}\n          />\n        </Button>\n        <Typography\n          component=\"h2\"\n          variant=\"h5\"\n          color=\"inherit\"\n          align=\"center\"\n          noWrap\n          className={classes.toolbarTitle}\n        >\n          {title}\n        </Typography>\n        <Button\n          style={{ width: \"100px\" }}\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={handleClick}\n        >\n          Menu\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          {isLoggedIn ? (\n            <>\n              <MenuItem\n                onClick={() => {\n                  if (loading) {\n                    handleClose();\n                  }\n                  if (!loading && data) {\n                    history.push(\"/my-profile\");\n                    handleClose();\n                  }\n                }}\n              >\n                Profile\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  history.push(\"/edit-account\");\n                  handleClose();\n                }}\n              >\n                Edit account\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  logoutMutation();\n                }}\n              >\n                Logout\n              </MenuItem>\n            </>\n          ) : (\n            <>\n              <MenuItem\n                onClick={() => {\n                  history.push(\"/login\");\n                  handleClose();\n                }}\n              >\n                Login\n              </MenuItem>\n              <MenuItem\n                onClick={() => {\n                  history.push(\"/signup\");\n                  handleClose();\n                }}\n              >\n                Sign Up\n              </MenuItem>\n            </>\n          )}\n        </Menu>\n      </Toolbar>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    height: \"100vh\",\n    paddingTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n}));\n\nexport const NotFound = () => {\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Helmet>\n        <title>Fresh Meat - Not found</title>\n      </Helmet>\n      <div className={classes.paper}>\n        <Typography variant=\"h2\">Oops!</Typography>\n        <Box paddingTop=\"24px\">\n          <Typography variant=\"h5\">Not Found</Typography>\n        </Box>\n        <Box paddingTop=\"10px\" paddingBottom=\"16px\">\n          This is not the page you are looking for T^T\n        </Box>\n        <Box>\n          Go back to{\" \"}\n          <Box component=\"span\" color=\"secondary\">\n            <Link to=\"/\" style={{ color: \"#4c8c4a\" }}>\n              Home\n            </Link>\n          </Box>\n        </Box>\n      </div>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\ninterface IErrorMessage {\n  errorMessage: string;\n}\n\nexport const FormError: React.FC<IErrorMessage> = ({ errorMessage }) => {\n  return (\n    <Typography variant=\"caption\" color=\"error\">\n      {errorMessage}\n    </Typography>\n  );\n};\n","import React from \"react\";\nimport { Button, CircularProgress, makeStyles } from \"@material-ui/core\";\n\ninterface ISubmitButton {\n  message: string;\n  validate?: boolean;\n  loading: boolean;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport const SubmitButton: React.FC<ISubmitButton> = ({\n  message,\n  validate,\n  loading,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Button\n      type=\"submit\"\n      fullWidth\n      variant=\"contained\"\n      color=\"secondary\"\n      className={classes.submit}\n      disabled={validate}\n    >\n      {loading ? <CircularProgress size={24} /> : message}\n    </Button>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useMe } from \"../hooks/use-me\";\nimport Container from \"@material-ui/core/Container\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles, withStyles } from \"@material-ui/core\";\nimport { Helmet } from \"react-helmet-async\";\nimport { FormError } from \"../components/form-error\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { SubmitButton } from \"../components/button\";\nimport EditIcon from \"@material-ui/icons/EditOutlined\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useForm } from \"react-hook-form\";\nimport { gql, useMutation, useReactiveVar } from \"@apollo/client\";\nimport { updateUser, updateUserVariables } from \"../__generated__/updateUser\";\nimport { useLogout } from \"../hooks/use-logout\";\nimport Button from \"@material-ui/core/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport { isLoggedInVar } from \"../apollo\";\n\ntype IForm = {\n  username?: string;\n  email?: string;\n  password?: string;\n  confirmPassword?: string;\n};\n\nconst UPDATE_USER = gql`\n  mutation updateUser($input: UpdateUserDto!) {\n    updateUser(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  deleteButton: {\n    margin: theme.spacing(5, 0, 2),\n    backgroundColor: \"#9a0007\",\n    color: \"white\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#650000\",\n    },\n  },\n}));\n\nconst CssTextField = withStyles({\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"white\",\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"green\",\n      },\n    },\n  },\n})(TextField);\n\nexport const EditAccount = () => {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const classes = useStyles();\n  const { data, loading } = useMe();\n  const history = useHistory();\n  const [logoutMutation] = useLogout();\n  const [samePassword, setSamePassword] = useState(false);\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, isLoggedIn]);\n\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    formState,\n  } = useForm<IForm>({\n    mode: \"onChange\",\n  });\n\n  const onSubmit = () => {\n    const { username, email, password, confirmPassword } = getValues();\n    if (password !== confirmPassword) {\n      setSamePassword(true);\n    } else {\n      setSamePassword(false);\n\n      // TODO\n      if (username && email === \"\" && password === \"\") {\n        updateUserMutation({\n          variables: {\n            input: {\n              username,\n            },\n          },\n        });\n      }\n\n      if (username === \"\" && email && password === \"\") {\n        updateUserMutation({\n          variables: {\n            input: {\n              email,\n            },\n          },\n        });\n      }\n\n      if (username === \"\" && email === \"\" && password) {\n        updateUserMutation({\n          variables: {\n            input: {\n              password,\n            },\n          },\n        });\n      }\n\n      if (username && email && password === \"\") {\n        updateUserMutation({\n          variables: {\n            input: {\n              username,\n              email,\n            },\n          },\n        });\n      }\n\n      if (username && email === \"\" && password) {\n        updateUserMutation({\n          variables: {\n            input: {\n              username,\n              password,\n            },\n          },\n        });\n      }\n\n      if (username === \"\" && email && password) {\n        updateUserMutation({\n          variables: {\n            input: {\n              email,\n              password,\n            },\n          },\n        });\n      }\n\n      if (username && email && password) {\n        updateUserMutation({\n          variables: {\n            input: {\n              username,\n              email,\n              password,\n            },\n          },\n        });\n      }\n    }\n  };\n\n  const onCompleted = (data: updateUser) => {\n    const {\n      updateUser: { ok },\n    } = data;\n    if (ok) {\n      logoutMutation();\n    }\n  };\n\n  const [\n    updateUserMutation,\n    { data: updateUserOutput, loading: updateUserLoading },\n  ] = useMutation<updateUser, updateUserVariables>(UPDATE_USER, {\n    onCompleted,\n  });\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>Fresh Meat - Edit Account</title>\n      </Helmet>\n      <main>\n        <Container maxWidth=\"md\">\n          {loading ? (\n            <Container className={classes.loading}>\n              <CircularProgress size={24} color=\"secondary\" />\n            </Container>\n          ) : (\n            <Container maxWidth=\"xs\">\n              <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                  <EditIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                  Let's edit your profile!\n                </Typography>\n                <form\n                  className={classes.form}\n                  noValidate\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    name=\"username\"\n                    label=\"New username\"\n                    type=\"text\"\n                    id=\"username\"\n                    inputRef={register({\n                      validate: {\n                        sameUsername: (value) => value !== data?.me.username,\n                      },\n                    })}\n                  />\n                  {errors.username?.type === \"sameUsername\" && (\n                    <div>\n                      <FormError errorMessage={\"Same username\"} />\n                    </div>\n                  )}\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    id=\"email\"\n                    label=\"New email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    inputRef={register({\n                      pattern: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n                    })}\n                  />\n                  {errors.email?.type === \"pattern\" && (\n                    <div>\n                      <FormError errorMessage={\"Check email pattern\"} />\n                    </div>\n                  )}\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    name=\"password\"\n                    label=\"New password\"\n                    type=\"password\"\n                    id=\"password\"\n                    inputRef={register({ minLength: 8 })}\n                  />\n                  {errors.password?.type === \"minLength\" && (\n                    <div>\n                      <FormError\n                        errorMessage={\"Password must be at least 8 chars\"}\n                      />\n                    </div>\n                  )}\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    name=\"confirmPassword\"\n                    label=\"Confirm new password \"\n                    type=\"password\"\n                    id=\"confirmPassword\"\n                    inputRef={register({ minLength: 8 })}\n                  />\n                  {errors.confirmPassword?.type === \"minLength\" && (\n                    <div>\n                      <FormError\n                        errorMessage={\"Password must be at least 8 chars\"}\n                      />\n                    </div>\n                  )}\n                  {samePassword && (\n                    <FormError errorMessage={\"Check password again\"} />\n                  )}\n                  <SubmitButton\n                    message=\"Update\"\n                    validate={!formState.isValid}\n                    loading={updateUserLoading}\n                  />\n                  {updateUserOutput?.updateUser.error && (\n                    <div>\n                      <FormError\n                        errorMessage={updateUserOutput.updateUser.error}\n                      />\n                    </div>\n                  )}\n                </form>\n                <Button\n                  type=\"button\"\n                  fullWidth\n                  variant=\"contained\"\n                  className={classes.deleteButton}\n                  onClick={() => {\n                    history.push(\"/delete-account\");\n                    window.scrollTo(0, 0);\n                  }}\n                >\n                  Delete account\n                </Button>\n              </div>\n            </Container>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { gql, useLazyQuery, useMutation, useReactiveVar } from \"@apollo/client\";\nimport {\n  getWaitingProducts,\n  getWaitingProductsVariables,\n} from \"../__generated__/getWaitingProducts\";\nimport {\n  getInProgressProducts,\n  getInProgressProductsVariables,\n} from \"../__generated__/getInProgressProducts\";\nimport { useHistory } from \"react-router-dom\";\nimport indigo from \"@material-ui/core/colors/indigo\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {\n  createBidding,\n  createBiddingVariables,\n} from \"../__generated__/createBidding\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  updateBidding,\n  updateBiddingVariables,\n} from \"../__generated__/updateBidding\";\nimport Countdown from \"react-countdown\";\nimport { isLoggedInVar } from \"../apollo\";\n\ntype IForm = {\n  bidPrice: string;\n};\n\ninterface IRenderer {\n  minutes: number;\n  seconds: number;\n  completed: boolean;\n}\n\nconst GET_IN_PROGRESS_PRODUCTS = gql`\n  query getInProgressProducts($input: GetAllProductsDto!) {\n    getInProgressProducts(input: $input) {\n      ok\n      error\n      maxPage\n      products {\n        id\n        productName\n        description\n        bidPrice\n        remainingTime\n        picture {\n          url\n        }\n      }\n    }\n  }\n`;\n\nconst GET_WAITING_PRODUCTS = gql`\n  query getWaitingProducts($input: GetAllProductsDto!) {\n    getWaitingProducts(input: $input) {\n      ok\n      error\n      maxPage\n      products {\n        id\n        productName\n        description\n        startPrice\n        remainingTime\n        picture {\n          url\n        }\n      }\n    }\n  }\n`;\n\nconst CREATE_BIDDING = gql`\n  mutation createBidding($input: CreateBiddingDto!) {\n    createBidding(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst UPDATE_BIDDING = gql`\n  mutation updateBidding($input: UpdateBiddingDto!) {\n    updateBidding(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  progressButton: {\n    paddingBottom: theme.spacing(4),\n  },\n  card: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  cardImage: {\n    paddingTop: \"56.25%\", // 16:9\n  },\n  cardContent: {\n    flexGrow: 1,\n  },\n  page: {\n    paddingTop: theme.spacing(4),\n  },\n  pageNumber: {\n    backgroundColor: theme.palette.secondary.main,\n    width: \"40px\",\n    height: \"40px\",\n    fontSize: \"large\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: \"4px\",\n  },\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n  noContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(20),\n  },\n  uploadContainer: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    marginTop: theme.spacing(4),\n  },\n  uploadButton: {\n    backgroundColor: indigo[900],\n    color: \"white\",\n    minWidth: \"100px\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#000051\",\n    },\n  },\n}));\n\nexport const Home = () => {\n  const classes = useStyles();\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const history = useHistory();\n  const [tab, setTab] = useState(true);\n  const [inProgressPage, setInProgressPage] = useState(1);\n  const [waitingPage, setWaitingPage] = useState(1);\n\n  const [\n    updateInProgressProducts,\n    { data: inProgressProducts, loading: inProgressProductsLoading },\n  ] = useLazyQuery<getInProgressProducts, getInProgressProductsVariables>(\n    GET_IN_PROGRESS_PRODUCTS,\n    {\n      variables: {\n        input: {\n          page: inProgressPage,\n        },\n      },\n    }\n  );\n\n  const [\n    updateWatingProducts,\n    { data: waitingProducts, loading: waitingProductsLoading },\n  ] = useLazyQuery<getWaitingProducts, getWaitingProductsVariables>(\n    GET_WAITING_PRODUCTS,\n    {\n      variables: {\n        input: {\n          page: waitingPage,\n        },\n      },\n    }\n  );\n\n  const { register, handleSubmit, getValues } = useForm<IForm>();\n\n  const onCreateCompleted = (data: createBidding) => {\n    const {\n      createBidding: { ok },\n    } = data;\n    if (ok) {\n      window.location.reload();\n    }\n  };\n\n  const onUpdateCompleted = (data: updateBidding) => {\n    const {\n      updateBidding: { ok },\n    } = data;\n    if (ok) {\n      window.location.reload();\n    }\n  };\n\n  const [\n    createBiddingMutation,\n    { data: createBiddingOutput, loading: createBiddingLoading },\n  ] = useMutation<createBidding, createBiddingVariables>(CREATE_BIDDING, {\n    onCompleted: onCreateCompleted,\n  });\n\n  const [\n    updateBiddingMutation,\n    { data: updateBiddingOutput, loading: updateBiddingLoading },\n  ] = useMutation<updateBidding, updateBiddingVariables>(UPDATE_BIDDING, {\n    onCompleted: onUpdateCompleted,\n  });\n\n  useEffect(() => {\n    updateInProgressProducts();\n    updateWatingProducts();\n  }, [updateInProgressProducts, updateWatingProducts]);\n\n  const [open, setOpen] = useState(false);\n  const [productId, setProductId] = useState<number | null>(null);\n  const [startPrice, setStartPrice] = useState<number | null>(null);\n  const [isInProgress, setIsInProgress] = useState(true);\n\n  const handleClickOpen = (\n    productId: number,\n    productStartPrice: number,\n    productProgress: boolean\n  ) => {\n    setOpen(true);\n    setProductId(productId);\n    setStartPrice(productStartPrice);\n    setIsInProgress(productProgress);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const renderer = ({ minutes, seconds, completed }: IRenderer) => {\n    if (completed) {\n      // Render a completed state\n      return (\n        <span style={{ color: \"#f44336\", fontSize: \"14px\" }}>Finished!</span>\n      );\n    } else {\n      // Render a countdown\n      return (\n        <span style={{ color: \"#ff7961\", fontSize: \"14px\" }}>\n          {minutes < 10 ? `0${minutes}m` : `${minutes}m`}{\" \"}\n          {seconds < 10 ? `0${seconds}s` : `${seconds}s`}\n        </span>\n      );\n    }\n  };\n\n  const IN_PROGRESS_TEXT_1 = (\n    <span>\n      The Current price is{\" \"}\n      <span style={{ fontWeight: \"bold\" }}>{startPrice}</span> won. The bid\n      price must be more than{\" \"}\n      <span style={{ fontWeight: \"bold\" }}>{startPrice}</span> won.\n    </span>\n  );\n\n  const IN_PROGRESS_TEXT_2 = (\n    <span>\n      If you are sure, Please type more than{\" \"}\n      <span style={{ fontWeight: \"bold\" }}>{startPrice}</span> to higher bid.\n    </span>\n  );\n\n  const WAITING_TEXT_1 = (\n    <span>\n      The starting price is{\" \"}\n      <span style={{ fontWeight: \"bold\" }}>{startPrice}</span> won. Are you\n      sure?\n    </span>\n  );\n\n  const WAITING_TEXT_2 = (\n    <span>\n      If you are sure, Please type{\" \"}\n      <span style={{ fontWeight: \"bold\" }}>{startPrice}</span> to bid.\n    </span>\n  );\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>Fresh Meat</title>\n      </Helmet>\n      <main>\n        {/* Progress Status Choose Button */}\n        <div className={classes.progressButton}>\n          <Container maxWidth=\"sm\">\n            <Grid container spacing={2} justify=\"center\">\n              <Grid item>\n                <Button\n                  variant={tab ? \"contained\" : \"outlined\"}\n                  color=\"secondary\"\n                  style={{ minWidth: \"130px\" }}\n                  onClick={() => setTab(true)}\n                >\n                  In Progress\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button\n                  variant={tab ? \"outlined\" : \"contained\"}\n                  color=\"secondary\"\n                  style={{ minWidth: \"130px\" }}\n                  onClick={() => setTab(false)}\n                >\n                  Waiting\n                </Button>\n              </Grid>\n            </Grid>\n          </Container>\n\n          {/* Upload Button */}\n          {isLoggedIn && (\n            <Container className={classes.uploadContainer}>\n              <Button\n                className={classes.uploadButton}\n                variant={\"contained\"}\n                onClick={() => {\n                  history.push(\"/product/new\");\n                }}\n              >\n                Upload\n              </Button>\n            </Container>\n          )}\n        </div>\n\n        {/* Product Card */}\n        <Container maxWidth=\"md\">\n          <Grid container spacing={4}>\n            {tab === true ? (\n              <>\n                {/* In Progress */}\n                {inProgressProductsLoading ? (\n                  <Container className={classes.loading}>\n                    <CircularProgress size={24} color=\"secondary\" />\n                  </Container>\n                ) : inProgressProducts?.getInProgressProducts.products\n                    ?.length === 0 ? (\n                  <Container className={classes.noContent}>\n                    <Typography variant=\"h3\">Oops!</Typography>\n                    <Typography variant=\"subtitle1\">\n                      There is no product in progress \n                    </Typography>\n                  </Container>\n                ) : (\n                  inProgressProducts?.getInProgressProducts.products?.map(\n                    (product) => (\n                      <Grid item key={product.id} xs={12} sm={6} md={4}>\n                        <Card className={classes.card}>\n                          <CardMedia\n                            className={classes.cardImage}\n                            image={\n                              product.picture\n                                ? product.picture.url\n                                : \"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg\"\n                            }\n                            title=\"Image title\"\n                          />\n                          <CardContent className={classes.cardContent}>\n                            <Typography\n                              gutterBottom\n                              variant=\"h5\"\n                              component=\"h2\"\n                            >\n                              {product.productName}\n                            </Typography>\n                            <Countdown\n                              date={product.remainingTime}\n                              renderer={renderer}\n                            />\n\n                            <Typography variant=\"subtitle1\">\n                              {product.bidPrice} \n                            </Typography>\n\n                            <Container\n                              style={{\n                                minHeight: \"50px\",\n                                maxHeight: \"50px\",\n                                padding: 0,\n                              }}\n                            >\n                              <Typography variant=\"subtitle2\">\n                                {product.description\n                                  ? product.description\n                                  : \"No description\"}\n                              </Typography>\n                            </Container>\n                          </CardContent>\n                          <CardActions>\n                            <Button\n                              size=\"small\"\n                              color=\"primary\"\n                              onClick={() => {\n                                history.push(`/product/${product.id}`);\n                              }}\n                            >\n                              View\n                            </Button>\n                            {isLoggedIn && (\n                              <Button\n                                size=\"small\"\n                                color=\"primary\"\n                                onClick={() => {\n                                  handleClickOpen(\n                                    product.id,\n                                    product.bidPrice ? product.bidPrice : 33,\n                                    true\n                                  );\n                                }}\n                              >\n                                Bidding\n                              </Button>\n                            )}\n                          </CardActions>\n                        </Card>\n                      </Grid>\n                    )\n                  )\n                )}\n                {/* Page Button */}\n                <Container>\n                  <div className={classes.page}>\n                    <Container maxWidth=\"sm\">\n                      <Grid container spacing={2} justify=\"center\">\n                        <Grid item>\n                          <Button\n                            variant=\"text\"\n                            color=\"secondary\"\n                            onClick={() => {\n                              if (inProgressPage > 1) {\n                                setInProgressPage(inProgressPage - 1);\n                                updateInProgressProducts();\n                                window.scrollTo(0, 0);\n                              }\n                            }}\n                          >\n                            \n                          </Button>\n                        </Grid>\n                        <Grid item>\n                          <Box className={classes.pageNumber}>\n                            {inProgressPage}\n                          </Box>\n                        </Grid>\n                        <Grid item>\n                          <Button\n                            variant=\"text\"\n                            color=\"secondary\"\n                            onClick={() => {\n                              if (\n                                inProgressProducts &&\n                                inProgressProducts.getInProgressProducts\n                                  .maxPage !== null &&\n                                inProgressPage <\n                                  inProgressProducts.getInProgressProducts\n                                    .maxPage\n                              ) {\n                                setInProgressPage(inProgressPage + 1);\n                                updateInProgressProducts();\n                                window.scrollTo(0, 0);\n                              }\n                            }}\n                          >\n                            \n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </Container>\n                  </div>\n                </Container>\n              </>\n            ) : (\n              <>\n                {/* Waiting */}\n                {waitingProductsLoading ? (\n                  <Container className={classes.loading}>\n                    <CircularProgress size={24} color=\"secondary\" />\n                  </Container>\n                ) : waitingProducts?.getWaitingProducts.products?.length ===\n                  0 ? (\n                  <Container className={classes.noContent}>\n                    <Typography variant=\"h3\">Oops!</Typography>\n                    <Typography variant=\"subtitle1\">\n                      There are no product waiting for auction \n                    </Typography>\n                  </Container>\n                ) : (\n                  // If product exist\n                  waitingProducts?.getWaitingProducts.products?.map(\n                    (product) => (\n                      <Grid item key={product.id} xs={12} sm={6} md={4}>\n                        <Card className={classes.card}>\n                          <CardMedia\n                            className={classes.cardImage}\n                            image={\n                              product.picture\n                                ? product.picture.url\n                                : \"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg\"\n                            }\n                            title=\"Image title\"\n                          />\n                          <CardContent className={classes.cardContent}>\n                            <Typography\n                              gutterBottom\n                              variant=\"h5\"\n                              component=\"h2\"\n                            >\n                              {product.productName}\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                              {product.startPrice} \n                            </Typography>\n                            <Container\n                              style={{\n                                minHeight: \"50px\",\n                                maxHeight: \"50px\",\n                                padding: 0,\n                              }}\n                            >\n                              <Typography variant=\"subtitle2\">\n                                {product.description\n                                  ? product.description\n                                  : \"No description\"}\n                              </Typography>\n                            </Container>\n                          </CardContent>\n                          <CardActions>\n                            <Button\n                              size=\"small\"\n                              color=\"primary\"\n                              onClick={() => {\n                                history.push(`/product/${product.id}`);\n                              }}\n                            >\n                              View\n                            </Button>\n                            {isLoggedIn && (\n                              <Button\n                                size=\"small\"\n                                color=\"primary\"\n                                onClick={() => {\n                                  handleClickOpen(\n                                    product.id,\n                                    product.startPrice,\n                                    false\n                                  );\n                                }}\n                              >\n                                Bidding\n                              </Button>\n                            )}\n                          </CardActions>\n                        </Card>\n                      </Grid>\n                    )\n                  )\n                )}\n                {/* Page Button */}\n                <Container>\n                  <div className={classes.page}>\n                    <Container maxWidth=\"sm\">\n                      <Grid container spacing={2} justify=\"center\">\n                        <Grid item>\n                          <Button\n                            variant=\"text\"\n                            color=\"secondary\"\n                            onClick={() => {\n                              if (waitingPage > 1) {\n                                setWaitingPage(waitingPage - 1);\n                                updateWatingProducts();\n                                window.scrollTo(0, 0);\n                              }\n                            }}\n                          >\n                            \n                          </Button>\n                        </Grid>\n                        <Grid item>\n                          <Box className={classes.pageNumber}>\n                            {waitingPage}\n                          </Box>\n                        </Grid>\n                        <Grid item>\n                          <Button\n                            variant=\"text\"\n                            color=\"secondary\"\n                            onClick={() => {\n                              if (\n                                waitingProducts &&\n                                waitingProducts.getWaitingProducts.maxPage !==\n                                  null &&\n                                waitingPage <\n                                  waitingProducts.getWaitingProducts.maxPage\n                              ) {\n                                setWaitingPage(waitingPage + 1);\n                                updateWatingProducts();\n                                window.scrollTo(0, 0);\n                              }\n                            }}\n                          >\n                            \n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </Container>\n                  </div>\n                </Container>\n              </>\n            )}\n            <Dialog\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <DialogTitle id=\"form-dialog-title\">\n                {isInProgress === true\n                  ? \"Higher bid on a product\"\n                  : \"Bid on a product\"}\n              </DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  {isInProgress === true ? IN_PROGRESS_TEXT_1 : WAITING_TEXT_1}\n                </DialogContentText>\n                <DialogContentText>\n                  {isInProgress === true ? IN_PROGRESS_TEXT_2 : WAITING_TEXT_2}\n                </DialogContentText>\n                {createBiddingOutput?.createBidding.error && (\n                  <DialogContentText color=\"error\">\n                    {createBiddingOutput.createBidding.error}\n                  </DialogContentText>\n                )}\n                {updateBiddingOutput?.updateBidding.error && (\n                  <DialogContentText color=\"error\">\n                    {updateBiddingOutput.updateBidding.error}\n                  </DialogContentText>\n                )}\n                <form\n                  onSubmit={handleSubmit(() => {\n                    const { bidPrice } = getValues();\n                    if (productId) {\n                      if (isInProgress) {\n                        updateBiddingMutation({\n                          variables: {\n                            input: {\n                              productId,\n                              bidPrice: +bidPrice,\n                            },\n                          },\n                        });\n                      }\n                      if (!isInProgress) {\n                        createBiddingMutation({\n                          variables: {\n                            input: {\n                              productId,\n                              startPrice: +bidPrice,\n                            },\n                          },\n                        });\n                      }\n                    }\n                  })}\n                >\n                  <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"bidPrice\"\n                    label={\n                      isInProgress === true\n                        ? `Current price: ${startPrice}`\n                        : `Starting price: ${startPrice}`\n                    }\n                    type=\"text\"\n                    fullWidth\n                    name=\"bidPrice\"\n                    inputRef={register}\n                  />\n                  <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                  </Button>\n                  <Button color=\"primary\" type=\"submit\">\n                    {createBiddingLoading || updateBiddingLoading ? (\n                      <CircularProgress size={24} />\n                    ) : (\n                      \"Bidding\"\n                    )}\n                  </Button>\n                </form>\n                {/* TODO : Error */}\n              </DialogContent>\n              <DialogActions></DialogActions>\n            </Dialog>\n          </Grid>\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport Container from \"@material-ui/core/Container\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport HandIcon from \"@material-ui/icons/PanToolOutlined\";\nimport { makeStyles, withStyles } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useForm } from \"react-hook-form\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport { gql, useMutation, useReactiveVar } from \"@apollo/client\";\nimport { deleteUser, deleteUserVariables } from \"../__generated__/deleteUser\";\nimport { useLogout } from \"../hooks/use-logout\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { FormError } from \"../components/form-error\";\nimport { isLoggedInVar } from \"../apollo\";\nimport { useHistory } from \"react-router-dom\";\n\ntype IForm = {\n  password: string;\n};\n\nconst DELETE_USER = gql`\n  mutation deleteUser($input: DeleteUserDto!) {\n    deleteUser(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  deleteButton: {\n    margin: theme.spacing(7, 0, 2),\n    backgroundColor: \"#9a0007\",\n    color: \"white\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#650000\",\n    },\n  },\n}));\n\nconst CssTextField = withStyles({\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"white\",\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"green\",\n      },\n    },\n  },\n})(TextField);\n\nexport const DeleteAccount = () => {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const history = useHistory();\n  const classes = useStyles();\n  const [logoutMutation] = useLogout();\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    formState,\n    errors,\n  } = useForm<IForm>({ mode: \"onChange\" });\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, isLoggedIn]);\n\n  const onSubmit = () => {\n    const { password } = getValues();\n    deleteUserMutation({\n      variables: {\n        input: {\n          password,\n        },\n      },\n    });\n  };\n\n  const onCompleted = (data: deleteUser) => {\n    const {\n      deleteUser: { ok },\n    } = data;\n    if (ok) {\n      logoutMutation();\n    }\n  };\n\n  const [\n    deleteUserMutation,\n    { data: deleteUserOutput, loading: deleteUserLoading },\n  ] = useMutation<deleteUser, deleteUserVariables>(DELETE_USER, {\n    onCompleted,\n  });\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>Fresh Meat - Delete Account</title>\n      </Helmet>\n      <main>\n        <Container maxWidth=\"xs\">\n          <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n              <HandIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              It was nice to meet you!\n            </Typography>\n            <form\n              className={classes.form}\n              noValidate\n              onSubmit={handleSubmit(onSubmit)}\n            >\n              <CssTextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                inputRef={register({ minLength: 8 })}\n              />\n              {errors.password?.type === \"minLength\" && (\n                <div>\n                  <FormError\n                    errorMessage={\"Password must be at least 8 chars\"}\n                  />\n                </div>\n              )}\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                className={classes.deleteButton}\n                disabled={!formState.isValid}\n                onClick={onSubmit}\n              >\n                {deleteUserLoading ? (\n                  <CircularProgress size={24} />\n                ) : (\n                  \"Delete account\"\n                )}\n              </Button>\n              {deleteUserOutput?.deleteUser.error && (\n                <div>\n                  <FormError errorMessage={deleteUserOutput.deleteUser.error} />\n                </div>\n              )}\n            </form>\n          </div>\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import { gql, useLazyQuery } from \"@apollo/client\";\nimport {\n  CircularProgress,\n  Container,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { userDetail, userDetailVariables } from \"../__generated__/userDetail\";\nimport Countdown from \"react-countdown\";\nimport { NotFound } from \"../components/not-found\";\n\ntype IParams = {\n  id: string;\n};\n\ninterface IRenderer {\n  minutes: number;\n  seconds: number;\n  completed: boolean;\n}\n\nexport const USER_DETAIL = gql`\n  query userDetail($input: UserDetailDto!) {\n    userDetail(input: $input) {\n      ok\n      error\n      user {\n        id\n        username\n      }\n      inProgress {\n        id\n        productName\n        bidPrice\n        remainingTime\n      }\n      waiting {\n        id\n        productName\n        startPrice\n      }\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n  productLoading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    minHeight: theme.spacing(20),\n  },\n  mainContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  subtitle: {\n    paddingTop: theme.spacing(6),\n    paddingBottom: theme.spacing(2),\n  },\n  productList: {\n    padding: 0,\n    minHeight: theme.spacing(20),\n  },\n  productItems: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    // marginTop: theme.spacing(1),\n    // marginBottom: theme.spacing(1),\n    padding: 0,\n    // paddingTop: theme.spacing(1),\n    // paddingBottom: theme.spacing(1),\n  },\n  waitingItems: {\n    display: \"flex\",\n    // marginTop: theme.spacing(1),\n    // marginBottom: theme.spacing(1),\n    padding: 0,\n    // paddingTop: theme.spacing(1),\n    // paddingBottom: theme.spacing(1),\n  },\n  inProgressItems: {\n    display: \"flex\",\n    padding: 0,\n  },\n  productTitle: {\n    marginRight: \"4px\",\n    textDecoration: \"none\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n    },\n  },\n  countdown: {\n    minWidth: theme.spacing(8),\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n  },\n  noProduct: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    minHeight: theme.spacing(20),\n  },\n}));\n\nexport const UserDetail = () => {\n  const { id } = useParams<IParams>();\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [userDetailQuery, { data, loading }] = useLazyQuery<\n    userDetail,\n    userDetailVariables\n  >(USER_DETAIL, {\n    variables: {\n      input: {\n        userId: +id,\n      },\n    },\n  });\n\n  useEffect(() => {\n    if (!id) {\n      history.push(\"/\");\n    }\n    userDetailQuery();\n  }, [userDetailQuery, history, id]);\n\n  const renderer = ({ minutes, seconds, completed }: IRenderer) => {\n    if (completed) {\n      // Render a completed state\n      return (\n        <span style={{ color: \"#f44336\", fontSize: \"14px\" }}>Finished!</span>\n      );\n    } else {\n      // Render a countdown\n      return (\n        <span style={{ color: \"#ff7961\", fontSize: \"14px\" }}>\n          {minutes < 10 ? `0${minutes}m` : `${minutes}m`}{\" \"}\n          {seconds < 10 ? `0${seconds}s` : `${seconds}s`}\n        </span>\n      );\n    }\n  };\n\n  return !data?.userDetail.ok ? (\n    <NotFound />\n  ) : (\n    <React.Fragment>\n      <Helmet>\n        <title>{`Fresh Meat - ${data?.userDetail.user?.username}`}</title>\n      </Helmet>\n      <main>\n        <Container maxWidth=\"md\">\n          {loading && !data ? (\n            <Container className={classes.loading}>\n              <CircularProgress size={24} color=\"secondary\" />\n            </Container>\n          ) : (\n            <Container maxWidth=\"xs\" className={classes.mainContent}>\n              <Typography variant=\"h4\">{`${data?.userDetail.user?.username}'s products`}</Typography>\n\n              {/* In Progress */}\n              <Typography variant=\"h5\" className={classes.subtitle}>\n                In progress\n              </Typography>\n              <Container className={classes.productList}>\n                {!loading && data?.userDetail.inProgress ? (\n                  data.userDetail.inProgress.length === 0 ? (\n                    <Container className={classes.noProduct}>\n                      <Typography variant=\"overline\">\n                        There is no product in progress \n                      </Typography>\n                    </Container>\n                  ) : (\n                    data.userDetail.inProgress.map((product) => (\n                      <Container className={classes.productItems}>\n                        <Container className={classes.inProgressItems}>\n                          <Typography\n                            variant=\"subtitle1\"\n                            onClick={() => {\n                              history.push(`/product/${product.id}`);\n                            }}\n                            className={classes.productTitle}\n                          >\n                            {product.productName}\n                          </Typography>\n                          <Typography variant=\"subtitle1\">\n                             {product.bidPrice}\n                          </Typography>\n                        </Container>\n                        <Typography\n                          variant=\"subtitle1\"\n                          className={classes.countdown}\n                        >\n                          <Countdown\n                            date={product.remainingTime}\n                            renderer={renderer}\n                          />\n                        </Typography>\n                      </Container>\n                    ))\n                  )\n                ) : (\n                  <Container className={classes.productLoading}>\n                    <CircularProgress size={24} color=\"secondary\" />\n                  </Container>\n                )}\n              </Container>\n\n              {/* Waiting */}\n              <Typography variant=\"h5\" className={classes.subtitle}>\n                Waiting for auction\n              </Typography>\n              <Container className={classes.productList}>\n                {!loading && data?.userDetail.waiting ? (\n                  data.userDetail.waiting.length === 0 ? (\n                    <Container className={classes.noProduct}>\n                      <Typography variant=\"overline\">\n                        There is no product waiting for auction \n                      </Typography>\n                    </Container>\n                  ) : (\n                    data.userDetail.waiting.map((product) => (\n                      <Container className={classes.waitingItems}>\n                        <Typography\n                          variant=\"subtitle1\"\n                          onClick={() => {\n                            history.push(`/product/${product.id}`);\n                          }}\n                          className={classes.productTitle}\n                        >\n                          {product.productName}\n                        </Typography>\n                        <Typography variant=\"subtitle1\">\n                           {product.startPrice}\n                        </Typography>\n                      </Container>\n                    ))\n                  )\n                ) : (\n                  <Container className={classes.productLoading}>\n                    <CircularProgress size={24} color=\"secondary\" />\n                  </Container>\n                )}\n              </Container>\n            </Container>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport Container from \"@material-ui/core/Container\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport { gql, useLazyQuery, useReactiveVar } from \"@apollo/client\";\nimport { userDetail, userDetailVariables } from \"../__generated__/userDetail\";\nimport { USER_DETAIL } from \"./user-detail\";\nimport { useMe } from \"../hooks/use-me\";\nimport Countdown from \"react-countdown\";\nimport { myProfile } from \"../__generated__/myProfile\";\nimport { isLoggedInVar } from \"../apollo\";\n\ninterface IRenderer {\n  minutes: number;\n  seconds: number;\n  completed: boolean;\n}\n\nconst MY_PROFILE = gql`\n  query myProfile {\n    myProfile {\n      ok\n      error\n      uploadedProduct {\n        id\n        productName\n        bidPrice\n        progress\n      }\n      inProgressProduct {\n        id\n        productName\n        bidPrice\n        remainingTime\n      }\n      closedProduct {\n        id\n        productName\n        bidPrice\n      }\n      paidProduct {\n        id\n        productName\n        bidPrice\n      }\n      completedProduct {\n        id\n        productName\n        bidPrice\n      }\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n  buttonContainer: {\n    paddingTop: theme.spacing(4),\n  },\n  mainContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  subtitle: {\n    paddingTop: theme.spacing(6),\n    paddingBottom: theme.spacing(2),\n  },\n  productList: {\n    padding: 0,\n    minHeight: theme.spacing(20),\n  },\n  noProduct: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    minHeight: theme.spacing(20),\n  },\n  productItems: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    padding: 0,\n  },\n  waitingItems: {\n    display: \"flex\",\n    padding: 0,\n  },\n  inProgressItems: {\n    display: \"flex\",\n    padding: 0,\n  },\n  productTitle: {\n    marginRight: \"4px\",\n    textDecoration: \"none\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n    },\n  },\n  productProgress: {\n    marginLeft: \"4px\",\n  },\n  countdown: {\n    minWidth: theme.spacing(8),\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n  },\n}));\n\nexport const MyProfile = () => {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const classes = useStyles();\n  const history = useHistory();\n  const [tab, setTab] = useState(true);\n  const { data } = useMe();\n\n  const [\n    userDetailQuery,\n    { data: userDetailOutput, loading: userDetailLoading },\n  ] = useLazyQuery<userDetail, userDetailVariables>(USER_DETAIL);\n\n  const [\n    myProfileQuery,\n    { data: myProfileOutput, loading: myProfileLoading },\n  ] = useLazyQuery<myProfile>(MY_PROFILE);\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      history.push(\"/\");\n    }\n\n    if (!data) {\n      history.push(\"/\");\n    }\n    if (data) {\n      userDetailQuery({\n        variables: {\n          input: {\n            userId: data.me.id,\n          },\n        },\n      });\n      myProfileQuery();\n    }\n  }, [data, history, userDetailQuery, myProfileQuery, isLoggedIn]);\n\n  const renderer = ({ minutes, seconds, completed }: IRenderer) => {\n    if (completed) {\n      // Render a completed state\n      return (\n        <span style={{ color: \"#f44336\", fontSize: \"14px\" }}>Finished!</span>\n      );\n    } else {\n      // Render a countdown\n      return (\n        <span style={{ color: \"#ff7961\", fontSize: \"14px\" }}>\n          {minutes < 10 ? `0${minutes}m` : `${minutes}m`}{\" \"}\n          {seconds < 10 ? `0${seconds}s` : `${seconds}s`}\n        </span>\n      );\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>{`Fresh Meat - ${data?.me.username}`}</title>\n      </Helmet>\n      <main>\n        <Container maxWidth=\"md\">\n          {userDetailLoading || myProfileLoading ? (\n            <Container className={classes.loading}>\n              <CircularProgress size={24} color=\"secondary\" />\n            </Container>\n          ) : (\n            <Container maxWidth=\"xs\" className={classes.mainContent}>\n              <Typography variant=\"h4\">{`${data?.me.username}'s products`}</Typography>\n\n              {/* Tab */}\n              <Grid\n                container\n                spacing={2}\n                justify=\"center\"\n                className={classes.buttonContainer}\n              >\n                <Grid item>\n                  <Button\n                    variant={tab ? \"contained\" : \"outlined\"}\n                    color=\"secondary\"\n                    style={{ minWidth: \"130px\" }}\n                    onClick={() => setTab(true)}\n                  >\n                    Uploaded\n                  </Button>\n                </Grid>\n                <Grid item>\n                  <Button\n                    variant={tab ? \"outlined\" : \"contained\"}\n                    color=\"secondary\"\n                    style={{ minWidth: \"130px\" }}\n                    onClick={() => setTab(false)}\n                  >\n                    Bidded\n                  </Button>\n                </Grid>\n              </Grid>\n\n              {tab === true &&\n              userDetailOutput?.userDetail.inProgress &&\n              userDetailOutput.userDetail.waiting &&\n              myProfileOutput?.myProfile.uploadedProduct ? (\n                <>\n                  {/* In Progress */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    In progress\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {userDetailOutput.userDetail.inProgress.length === 0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product in progress \n                        </Typography>\n                      </Container>\n                    ) : (\n                      userDetailOutput.userDetail.inProgress.map((product) => (\n                        <Container className={classes.productItems}>\n                          <Container className={classes.inProgressItems}>\n                            <Typography\n                              variant=\"subtitle1\"\n                              onClick={() => {\n                                history.push(`/product/${product.id}`);\n                                window.scrollTo(0, 0);\n                              }}\n                              className={classes.productTitle}\n                            >\n                              {product.productName}\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                               {product.bidPrice}\n                            </Typography>\n                          </Container>\n                          <Typography\n                            variant=\"subtitle1\"\n                            className={classes.countdown}\n                          >\n                            <Countdown\n                              date={product.remainingTime}\n                              renderer={renderer}\n                            />\n                          </Typography>\n                        </Container>\n                      ))\n                    )}\n                  </Container>\n\n                  {/* Waiting  */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    Waiting for auction\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {userDetailOutput.userDetail.waiting.length === 0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product waiting for auction \n                        </Typography>\n                      </Container>\n                    ) : (\n                      userDetailOutput.userDetail.waiting.map((product) => (\n                        <Container className={classes.waitingItems}>\n                          <Typography\n                            variant=\"subtitle1\"\n                            onClick={() => {\n                              history.push(`/product/${product.id}`);\n                              window.scrollTo(0, 0);\n                            }}\n                            className={classes.productTitle}\n                          >\n                            {product.productName}\n                          </Typography>\n                          <Typography variant=\"subtitle1\">\n                             {product.startPrice}\n                          </Typography>\n                        </Container>\n                      ))\n                    )}\n                  </Container>\n\n                  {/* Finished */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    Finished\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {myProfileOutput.myProfile.uploadedProduct.length === 0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product finished \n                        </Typography>\n                      </Container>\n                    ) : (\n                      myProfileOutput.myProfile.uploadedProduct.map(\n                        (product) => (\n                          <Container className={classes.waitingItems}>\n                            <Typography\n                              variant=\"subtitle1\"\n                              onClick={() => {\n                                history.push(`/product/${product.id}`);\n                                window.scrollTo(0, 0);\n                              }}\n                              className={classes.productTitle}\n                            >\n                              {product.productName}\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                               {product.bidPrice}\n                            </Typography>\n                            <Typography\n                              variant=\"subtitle1\"\n                              className={classes.productProgress}\n                            >\n                               {product.progress}\n                            </Typography>\n                          </Container>\n                        )\n                      )\n                    )}\n                  </Container>\n                </>\n              ) : (\n                <>{/* TODO : Render Error page */}</>\n              )}\n\n              {tab === false &&\n              myProfileOutput?.myProfile.inProgressProduct &&\n              myProfileOutput.myProfile.closedProduct &&\n              myProfileOutput.myProfile.paidProduct &&\n              myProfileOutput.myProfile.completedProduct ? (\n                <>\n                  {/* InProgress */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    InProgress\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {myProfileOutput.myProfile.inProgressProduct.length ===\n                    0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product in progress \n                        </Typography>\n                      </Container>\n                    ) : (\n                      myProfileOutput.myProfile.inProgressProduct.map(\n                        (product) => (\n                          <Container className={classes.productItems}>\n                            <Container className={classes.inProgressItems}>\n                              <Typography\n                                variant=\"subtitle1\"\n                                onClick={() => {\n                                  history.push(`/product/${product.id}`);\n                                  window.scrollTo(0, 0);\n                                }}\n                                className={classes.productTitle}\n                              >\n                                {product.productName}\n                              </Typography>\n                              <Typography variant=\"subtitle1\">\n                                 {product.bidPrice}\n                              </Typography>\n                            </Container>\n                            <Typography\n                              variant=\"subtitle1\"\n                              className={classes.countdown}\n                            >\n                              <Countdown\n                                date={product.remainingTime}\n                                renderer={renderer}\n                              />\n                            </Typography>\n                          </Container>\n                        )\n                      )\n                    )}\n                  </Container>\n\n                  {/* Closed */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    Closed\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {myProfileOutput.myProfile.closedProduct.length === 0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product closed \n                        </Typography>\n                      </Container>\n                    ) : (\n                      myProfileOutput.myProfile.closedProduct.map((product) => (\n                        <Container className={classes.waitingItems}>\n                          <Typography\n                            variant=\"subtitle1\"\n                            onClick={() => {\n                              history.push(`/product/${product.id}`);\n                              window.scrollTo(0, 0);\n                            }}\n                            className={classes.productTitle}\n                          >\n                            {product.productName}\n                          </Typography>\n                          <Typography variant=\"subtitle1\">\n                             {product.bidPrice}\n                          </Typography>\n                        </Container>\n                      ))\n                    )}\n                  </Container>\n\n                  {/* Paid */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    Paid\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {myProfileOutput.myProfile.paidProduct.length === 0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product waiting for payment \n                        </Typography>\n                      </Container>\n                    ) : (\n                      myProfileOutput.myProfile.paidProduct.map((product) => (\n                        <Container className={classes.waitingItems}>\n                          <Typography\n                            variant=\"subtitle1\"\n                            onClick={() => {\n                              history.push(`/product/${product.id}`);\n                              window.scrollTo(0, 0);\n                            }}\n                            className={classes.productTitle}\n                          >\n                            {product.productName}\n                          </Typography>\n                          <Typography variant=\"subtitle1\">\n                             {product.bidPrice}\n                          </Typography>\n                        </Container>\n                      ))\n                    )}\n                  </Container>\n\n                  {/* Completed */}\n                  <Typography variant=\"h5\" className={classes.subtitle}>\n                    Completed\n                  </Typography>\n                  <Container className={classes.productList}>\n                    {myProfileOutput.myProfile.completedProduct.length === 0 ? (\n                      <Container className={classes.noProduct}>\n                        <Typography variant=\"overline\">\n                          There is no product completed \n                        </Typography>\n                      </Container>\n                    ) : (\n                      myProfileOutput.myProfile.completedProduct.map(\n                        (product) => (\n                          <Container className={classes.waitingItems}>\n                            <Typography\n                              variant=\"subtitle1\"\n                              onClick={() => {\n                                history.push(`/product/${product.id}`);\n                                window.scrollTo(0, 0);\n                              }}\n                              className={classes.productTitle}\n                            >\n                              {product.productName}\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                               {product.bidPrice}\n                            </Typography>\n                          </Container>\n                        )\n                      )\n                    )}\n                  </Container>\n                </>\n              ) : (\n                <>{/* TODO : Render Error page */}</>\n              )}\n            </Container>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum Progress {\n  Closed = \"Closed\",\n  Completed = \"Completed\",\n  InProgress = \"InProgress\",\n  Paid = \"Paid\",\n  Waiting = \"Waiting\",\n}\n\nexport interface CreateBiddingDto {\n  productId: number;\n  startPrice: number;\n}\n\nexport interface CreateUserDto {\n  username: string;\n  email: string;\n  password: string;\n}\n\nexport interface DeleteProductDto {\n  productId: number;\n}\n\nexport interface DeleteUserDto {\n  password: string;\n}\n\nexport interface EditProductDto {\n  productName?: string | null;\n  description?: string | null;\n  startPrice?: number | null;\n  productId: number;\n  deleteImage?: boolean | null;\n}\n\nexport interface EditProgressDto {\n  productId: number;\n}\n\nexport interface GetAllProductsDto {\n  page?: number | null;\n}\n\nexport interface LoginDto {\n  email: string;\n  password: string;\n}\n\nexport interface ProductDetailDto {\n  productId: number;\n}\n\nexport interface UpdateBiddingDto {\n  productId: number;\n  bidPrice: number;\n}\n\nexport interface UpdateUserDto {\n  username?: string | null;\n  email?: string | null;\n  password?: string | null;\n}\n\nexport interface UploadProductDto {\n  productName?: string | null;\n  description?: string | null;\n  startPrice?: number | null;\n}\n\nexport interface UserDetailDto {\n  userId: number;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import React, { useEffect } from \"react\";\nimport {\n  Button,\n  CircularProgress,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Step,\n  StepLabel,\n  Stepper,\n  Typography,\n} from \"@material-ui/core\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { Progress } from \"../__generated__/globalTypes\";\nimport { gql, useLazyQuery, useMutation, useReactiveVar } from \"@apollo/client\";\nimport { useMe } from \"../hooks/use-me\";\nimport {\n  productDetail,\n  productDetailVariables,\n} from \"../__generated__/productDetail\";\nimport {\n  editProgress,\n  editProgressVariables,\n} from \"../__generated__/editProgress\";\nimport { FormError } from \"../components/form-error\";\nimport {\n  deleteProduct,\n  deleteProductVariables,\n} from \"../__generated__/deleteProduct\";\nimport { isLoggedInVar } from \"../apollo\";\nimport { NotFound } from \"../components/not-found\";\n\ntype IParams = {\n  id: string;\n};\n\nexport const PRODUCT_DETAIL = gql`\n  query productDetail($input: ProductDetailDto!) {\n    productDetail(input: $input) {\n      ok\n      error\n      product {\n        id\n        productName\n        startPrice\n        bidPrice\n        description\n        picture {\n          key\n          fileName\n        }\n        seller {\n          id\n          username\n        }\n        bidder {\n          id\n          username\n        }\n        progress\n      }\n    }\n  }\n`;\n\nconst EDIT_PROGRESS = gql`\n  mutation editProgress($input: EditProgressDto!) {\n    editProgress(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst DELETE_PRODUCT = gql`\n  mutation deleteProduct($input: DeleteProductDto!) {\n    deleteProduct(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n  stepper: {\n    padding: theme.spacing(3, 0, 8),\n    backgroundColor: theme.palette.primary.main,\n  },\n  layout: {\n    width: \"auto\",\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n      width: 600,\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(6),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3),\n    },\n  },\n  listItem: {\n    padding: theme.spacing(1, 0),\n  },\n  textLink: {\n    textDecoration: \"none\",\n    color: theme.palette.text.secondary,\n    \"&:hover\": {\n      textDecoration: \"underline\",\n    },\n  },\n  buttonContainer: {\n    padding: 0,\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(6),\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n  },\n  button: {\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    minWidth: \"180px\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: theme.palette.secondary.dark,\n    },\n  },\n  deleteButton: {\n    backgroundColor: \"#9a0007\",\n    color: \"white\",\n    minWidth: \"180px\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#650000\",\n    },\n  },\n  editButton: {\n    marginRight: theme.spacing(2),\n    backgroundColor: theme.palette.secondary.main,\n    color: \"white\",\n    minWidth: \"180px\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: theme.palette.secondary.dark,\n    },\n  },\n}));\n\nexport const ProductDetail = () => {\n  const { id } = useParams<IParams>();\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const classes = useStyles();\n  const history = useHistory();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [open, setOpen] = React.useState(false);\n  const { data: meOutput } = useMe();\n  const [\n    productDetailQuery,\n    { data: productDetailOutput, loading: productDetailLoading },\n  ] = useLazyQuery<productDetail, productDetailVariables>(PRODUCT_DETAIL, {\n    variables: {\n      input: {\n        productId: +id,\n      },\n    },\n  });\n\n  const onCompleted = (data: editProgress) => {\n    const {\n      editProgress: { ok },\n    } = data;\n    if (ok) {\n      handleClose();\n      window.location.reload();\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const onDeleteCompleted = (data: deleteProduct) => {\n    const {\n      deleteProduct: { ok },\n    } = data;\n    if (ok) {\n      handleClose();\n      history.push(\"/\");\n      window.location.reload();\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const [\n    editProgressMutation,\n    { data: editProgressOutput, loading: editProgressLoading },\n  ] = useMutation<editProgress, editProgressVariables>(EDIT_PROGRESS, {\n    onCompleted,\n  });\n\n  const [\n    deleteProductMutation,\n    { data: deleteProductOutput, loading: deleteProductLoading },\n  ] = useMutation<deleteProduct, deleteProductVariables>(DELETE_PRODUCT, {\n    onCompleted: onDeleteCompleted,\n  });\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const steps = [\"Waiting\", \"In progress\", \"Closed\", \"Paid\", \"Completed\"];\n\n  useEffect(() => {\n    if (!id) {\n      history.push(\"/\");\n    }\n    if (id) {\n      productDetailQuery({\n        variables: {\n          input: {\n            productId: +id,\n          },\n        },\n      });\n    }\n\n    if (\n      productDetailOutput?.productDetail.product?.progress === Progress.Waiting\n    ) {\n      setActiveStep(0);\n    }\n    if (\n      productDetailOutput?.productDetail.product?.progress ===\n      Progress.InProgress\n    ) {\n      setActiveStep(1);\n    }\n    if (\n      productDetailOutput?.productDetail.product?.progress === Progress.Closed\n    ) {\n      setActiveStep(2);\n    }\n    if (\n      productDetailOutput?.productDetail.product?.progress === Progress.Paid\n    ) {\n      setActiveStep(3);\n    }\n    if (\n      productDetailOutput?.productDetail.product?.progress ===\n      Progress.Completed\n    ) {\n      setActiveStep(4);\n    }\n  }, [\n    history,\n    id,\n    meOutput,\n    productDetailOutput?.productDetail.product?.progress,\n    productDetailQuery,\n  ]);\n\n  return !productDetailOutput?.productDetail.ok ? (\n    <NotFound />\n  ) : (\n    <React.Fragment>\n      <Helmet>\n        <title>{`Fresh Meat - ${productDetailOutput?.productDetail.product?.productName}`}</title>\n      </Helmet>\n      <main className={classes.layout}>\n        <Container maxWidth=\"md\">\n          {productDetailLoading &&\n          productDetailOutput?.productDetail.product ? (\n            <Container className={classes.loading}>\n              <CircularProgress size={24} color=\"secondary\" />\n            </Container>\n          ) : (\n            <div>\n              {/* Stepper */}\n              <Typography variant=\"h5\">Progress status</Typography>\n              <Stepper\n                activeStep={activeStep}\n                className={classes.stepper}\n                alternativeLabel\n              >\n                {steps.map((label) => (\n                  <Step key={label}>\n                    <StepLabel>\n                      <Typography variant=\"overline\">{label}</Typography>\n                    </StepLabel>\n                  </Step>\n                ))}\n              </Stepper>\n\n              {/* Detail */}\n              <Typography variant=\"h5\" gutterBottom>\n                Product detail\n              </Typography>\n\n              {/* Product name */}\n              <List disablePadding>\n                <ListItem\n                  className={classes.listItem}\n                  key={productDetailOutput?.productDetail.product?.productName}\n                >\n                  <ListItemText\n                    primary=\"Product name\"\n                    secondary={\n                      productDetailOutput?.productDetail.product?.productName\n                    }\n                  />\n                </ListItem>\n\n                {/* Starting price */}\n                <ListItem\n                  className={classes.listItem}\n                  key={productDetailOutput?.productDetail.product?.startPrice}\n                >\n                  <ListItemText\n                    primary=\"Starting price\"\n                    secondary={`${productDetailOutput?.productDetail.product?.startPrice}`}\n                  />\n                </ListItem>\n\n                {/* Current Price */}\n                {productDetailOutput?.productDetail.product?.bidder && (\n                  <ListItem\n                    className={classes.listItem}\n                    key={productDetailOutput?.productDetail.product?.bidPrice}\n                  >\n                    <ListItemText\n                      primary=\"Current price\"\n                      secondary={`${productDetailOutput?.productDetail.product?.bidPrice}`}\n                    />\n                  </ListItem>\n                )}\n\n                {/* Seller */}\n                <ListItem\n                  className={classes.listItem}\n                  key={\n                    productDetailOutput?.productDetail.product?.seller.username\n                  }\n                >\n                  <ListItemText\n                    primary=\"Seller\"\n                    secondary={\n                      <Typography variant=\"body2\">\n                        <Link\n                          to={`/user/${productDetailOutput?.productDetail.product?.seller.id}`}\n                          className={classes.textLink}\n                        >\n                          {\n                            productDetailOutput?.productDetail.product?.seller\n                              .username\n                          }\n                        </Link>\n                      </Typography>\n                    }\n                  />\n                </ListItem>\n\n                {/* Buyer */}\n                {productDetailOutput?.productDetail.product?.bidder && (\n                  <ListItem\n                    className={classes.listItem}\n                    key={\n                      productDetailOutput?.productDetail.product?.bidder\n                        .username\n                    }\n                  >\n                    <ListItemText\n                      primary=\"Buyer\"\n                      secondary={\n                        <Typography variant=\"body2\">\n                          <Link\n                            to={`/user/${productDetailOutput.productDetail.product.bidder.id}`}\n                            className={classes.textLink}\n                          >\n                            {\n                              productDetailOutput.productDetail.product.bidder\n                                .username\n                            }\n                          </Link>\n                        </Typography>\n                      }\n                    />\n                  </ListItem>\n                )}\n              </List>\n\n              {/* Button */}\n              {isLoggedIn && (\n                <Container className={classes.buttonContainer}>\n                  {/* closed -> paid */}\n                  {productDetailOutput?.productDetail.product?.bidder &&\n                    meOutput?.me.id ===\n                      productDetailOutput.productDetail.product.bidder.id &&\n                    productDetailOutput.productDetail.product.progress ===\n                      Progress.Closed && (\n                      <>\n                        <Button\n                          className={classes.button}\n                          onClick={handleClickOpen}\n                        >\n                          Request confirm\n                        </Button>\n\n                        {/* Dialog */}\n                        <Dialog\n                          open={open}\n                          onClose={handleClose}\n                          aria-labelledby=\"alert-dialog-title\"\n                          aria-describedby=\"alert-dialog-description\"\n                        >\n                          <DialogTitle id=\"alert-dialog-title\">\n                            Request confirm\n                          </DialogTitle>\n                          <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description\">\n                              Have you paid and would you like to ask for\n                              confirmation?\n                            </DialogContentText>\n                            {editProgressOutput?.editProgress.error && (\n                              <FormError\n                                errorMessage={\n                                  editProgressOutput.editProgress.error\n                                }\n                              />\n                            )}\n                          </DialogContent>\n                          <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                              No\n                            </Button>\n                            <Button\n                              onClick={() => {\n                                if (productDetailOutput.productDetail.product) {\n                                  editProgressMutation({\n                                    variables: {\n                                      input: {\n                                        productId:\n                                          productDetailOutput.productDetail\n                                            .product.id,\n                                      },\n                                    },\n                                  });\n                                }\n                              }}\n                              color=\"primary\"\n                              autoFocus\n                            >\n                              {editProgressLoading ? (\n                                <CircularProgress size={14} />\n                              ) : (\n                                \"Yes\"\n                              )}\n                            </Button>\n                          </DialogActions>\n                        </Dialog>\n                      </>\n                    )}\n\n                  {/* paid -> completed */}\n                  {meOutput?.me.id ===\n                    productDetailOutput?.productDetail.product?.seller.id &&\n                    productDetailOutput?.productDetail.product?.progress ===\n                      Progress.Paid && (\n                      <>\n                        <Button\n                          className={classes.button}\n                          onClick={handleClickOpen}\n                        >\n                          Confirm payment\n                        </Button>\n\n                        {/* Dialog */}\n                        <Dialog\n                          open={open}\n                          onClose={handleClose}\n                          aria-labelledby=\"alert-dialog-title\"\n                          aria-describedby=\"alert-dialog-description\"\n                        >\n                          <DialogTitle id=\"alert-dialog-title\">\n                            Confirm payment\n                          </DialogTitle>\n                          <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description\">\n                              Have you received payment and want to complete the\n                              transaction?\n                            </DialogContentText>\n                            {editProgressOutput?.editProgress.error && (\n                              <FormError\n                                errorMessage={\n                                  editProgressOutput.editProgress.error\n                                }\n                              />\n                            )}\n                          </DialogContent>\n                          <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                              Cancel\n                            </Button>\n                            <Button\n                              onClick={() => {\n                                if (productDetailOutput.productDetail.product) {\n                                  editProgressMutation({\n                                    variables: {\n                                      input: {\n                                        productId:\n                                          productDetailOutput.productDetail\n                                            .product.id,\n                                      },\n                                    },\n                                  });\n                                }\n                              }}\n                              color=\"primary\"\n                              autoFocus\n                            >\n                              {editProgressLoading ? (\n                                <CircularProgress size={14} />\n                              ) : (\n                                \"Yes\"\n                              )}\n                            </Button>\n                          </DialogActions>\n                        </Dialog>\n                      </>\n                    )}\n\n                  {/* Edit Button */}\n                  {meOutput?.me.id ===\n                    productDetailOutput?.productDetail.product?.seller.id &&\n                    productDetailOutput?.productDetail.product?.progress ===\n                      Progress.Waiting && (\n                      <Button\n                        className={classes.editButton}\n                        onClick={() => {\n                          history.push(\n                            `/edit-product/${productDetailOutput.productDetail.product?.id}`\n                          );\n                          window.scrollTo(0, 0);\n                        }}\n                      >\n                        Edit product\n                      </Button>\n                    )}\n\n                  {/* Delete Button */}\n                  {meOutput?.me.id ===\n                    productDetailOutput?.productDetail.product?.seller.id &&\n                    (productDetailOutput?.productDetail.product?.progress ===\n                      Progress.Waiting ||\n                      productDetailOutput?.productDetail.product?.progress ===\n                        Progress.Completed) && (\n                      <>\n                        <Button\n                          className={classes.deleteButton}\n                          onClick={handleClickOpen}\n                        >\n                          Delete product\n                        </Button>\n\n                        {/* Dialog */}\n                        <Dialog\n                          open={open}\n                          onClose={handleClose}\n                          aria-labelledby=\"alert-dialog-title\"\n                          aria-describedby=\"alert-dialog-description\"\n                        >\n                          <DialogTitle id=\"alert-dialog-title\">\n                            Delete product\n                          </DialogTitle>\n                          <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description\">\n                              Are you sure you want to delete the product?\n                            </DialogContentText>\n                            {deleteProductOutput?.deleteProduct.error && (\n                              <FormError\n                                errorMessage={\n                                  deleteProductOutput.deleteProduct.error\n                                }\n                              />\n                            )}\n                          </DialogContent>\n                          <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                              Cancel\n                            </Button>\n                            <Button\n                              onClick={() => {\n                                // TODO : Delete Product\n                                if (productDetailOutput.productDetail.product) {\n                                  deleteProductMutation({\n                                    variables: {\n                                      input: {\n                                        productId:\n                                          productDetailOutput.productDetail\n                                            .product.id,\n                                      },\n                                    },\n                                  });\n                                }\n                              }}\n                              color=\"primary\"\n                              autoFocus\n                            >\n                              {deleteProductLoading ? (\n                                <CircularProgress size={14} />\n                              ) : (\n                                \"Yes\"\n                              )}\n                            </Button>\n                          </DialogActions>\n                        </Dialog>\n                      </>\n                    )}\n                </Container>\n              )}\n            </div>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useForm } from \"react-hook-form\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { FormError } from \"../components/form-error\";\nimport { SubmitButton } from \"../components/button\";\nimport { login, loginVariables } from \"../__generated__/login\";\nimport { useHistory } from \"react-router-dom\";\nimport { Helmet } from \"react-helmet-async\";\nimport { isLoggedInVar } from \"../apollo\";\n\ntype IForm = {\n  email: string;\n  password: string;\n};\n\nconst LOGIN = gql`\n  mutation login($input: LoginDto!) {\n    login(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst CssTextField = withStyles({\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"white\",\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"green\",\n      },\n    },\n  },\n})(TextField);\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n}));\n\nexport const Login = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    formState,\n  } = useForm<IForm>({\n    mode: \"onChange\",\n  });\n\n  const onSubmit = () => {\n    const { email, password } = getValues();\n    loginMutation({\n      variables: {\n        input: {\n          email,\n          password,\n        },\n      },\n    });\n  };\n\n  const onCompleted = (data: login) => {\n    const {\n      login: { ok },\n    } = data;\n    if (ok) {\n      isLoggedInVar(true);\n      history.push(\"/\");\n      window.location.reload();\n    }\n  };\n\n  const [loginMutation, { data: loginOutput, loading }] = useMutation<\n    login,\n    loginVariables\n  >(LOGIN, { onCompleted });\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Helmet>\n        <title>Fresh Meat - Login</title>\n      </Helmet>\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Welcome back!\n        </Typography>\n        <form\n          className={classes.form}\n          noValidate\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <CssTextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            inputRef={register({\n              required: true,\n              pattern: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n            })}\n          />\n          {errors.email?.type === \"pattern\" && (\n            <FormError errorMessage={\"Check email pattern\"} />\n          )}\n          <CssTextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            inputRef={register({ required: true, minLength: 8 })}\n          />\n          {errors.password?.type === \"minLength\" && (\n            <FormError errorMessage={\"Password must be at least 8 chars\"} />\n          )}\n          <SubmitButton\n            message=\"Login\"\n            validate={!formState.isValid}\n            loading={loading}\n          />\n          {loginOutput?.login.error && (\n            <FormError errorMessage={loginOutput.login.error} />\n          )}\n          <Grid container>\n            <Grid item>\n              Don't have an account?{\" \"}\n              <Link href=\"/signup\" variant=\"body2\" color=\"secondary\">\n                {\"Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport {\n  Avatar,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n  withStyles,\n} from \"@material-ui/core\";\nimport { Helmet } from \"react-helmet-async\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport { SubmitButton } from \"../components/button\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { createUser, createUserVariables } from \"../__generated__/createUser\";\nimport { useForm } from \"react-hook-form\";\nimport { FormError } from \"../components/form-error\";\nimport { useHistory } from \"react-router-dom\";\n\ntype IForm = {\n  username: string;\n  email: string;\n  password: string;\n};\n\nconst CREATE_USER = gql`\n  mutation createUser($input: CreateUserDto!) {\n    createUser(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst CssTextField = withStyles({\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"white\",\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"green\",\n      },\n    },\n  },\n})(TextField);\n\nexport const Signup = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    formState,\n  } = useForm<IForm>({ mode: \"onChange\" });\n\n  const onSubmit = () => {\n    const { username, email, password } = getValues();\n    createUserMutation({\n      variables: {\n        input: {\n          username,\n          email,\n          password,\n        },\n      },\n    });\n  };\n\n  const onCompleted = (data: createUser) => {\n    const {\n      createUser: { ok },\n    } = data;\n    if (ok) {\n      history.push(\"/\");\n    }\n  };\n\n  const [createUserMutation, { data: createUserOutput, loading }] = useMutation<\n    createUser,\n    createUserVariables\n  >(CREATE_USER, { onCompleted });\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Helmet>\n        <title>Fresh Meat - Signup</title>\n      </Helmet>\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Welcome!\n        </Typography>\n        <form\n          className={classes.form}\n          noValidate\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <CssTextField\n            margin=\"normal\"\n            autoComplete=\"fname\"\n            name=\"username\"\n            variant=\"outlined\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"User Name\"\n            autoFocus\n            inputRef={register({ required: true })}\n          />\n          <CssTextField\n            margin=\"normal\"\n            variant=\"outlined\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            inputRef={register({\n              required: true,\n              pattern: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n            })}\n          />\n          {errors.email?.type === \"pattern\" && (\n            <FormError errorMessage={\"Check email pattern\"} />\n          )}\n          <CssTextField\n            margin=\"normal\"\n            variant=\"outlined\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            inputRef={register({ required: true, minLength: 8 })}\n          />\n          {errors.password?.type === \"minLength\" && (\n            <FormError errorMessage={\"Password must be at least 8 chars\"} />\n          )}\n          <SubmitButton\n            message=\"Sign Up\"\n            validate={!formState.isValid}\n            loading={loading}\n          />\n          {createUserOutput?.createUser.error && (\n            <FormError errorMessage={createUserOutput.createUser.error} />\n          )}\n          <Grid container>\n            <Grid item>\n              Already have an account?{\" \"}\n              <Link href=\"/login\" variant=\"body2\" color=\"secondary\">\n                Log in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n","import { gql, useMutation, useReactiveVar } from \"@apollo/client\";\nimport {\n  Avatar,\n  Button,\n  Container,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  Typography,\n  withStyles,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useHistory } from \"react-router-dom\";\nimport { isLoggedInVar } from \"../apollo\";\nimport PublishOutlinedIcon from \"@material-ui/icons/PublishOutlined\";\nimport { useForm } from \"react-hook-form\";\nimport { SubmitButton } from \"../components/button\";\nimport indigo from \"@material-ui/core/colors/indigo\";\nimport { FormError } from \"../components/form-error\";\nimport {\n  uploadProduct,\n  uploadProductVariables,\n} from \"../__generated__/uploadProduct\";\nimport {\n  uploadImage,\n  uploadImageVariables,\n} from \"../__generated__/uploadImage\";\n\ntype IForm = {\n  productName: string;\n  description?: string;\n  startPrice: string;\n  image: IFile;\n};\n\ntype IFile = {\n  [index: number]: { name: string };\n};\n\nconst UPLOAD_PRODUCT = gql`\n  mutation uploadProduct($input: UploadProductDto!) {\n    uploadProduct(input: $input) {\n      ok\n      error\n      productId\n    }\n  }\n`;\n\nexport const UPLOAD_IMAGE = gql`\n  mutation uploadImage($productId: Float!, $file: Upload!) {\n    uploadImage(productId: $productId, file: $file) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  buttonContainer: {\n    margin: theme.spacing(2, 0, 6),\n    padding: 0,\n  },\n  button: {\n    backgroundColor: indigo[900],\n    color: \"white\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#000051\",\n    },\n  },\n  fileList: {\n    padding: theme.spacing(2, 0),\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  deleteButton: {\n    padding: theme.spacing(0.4, 1.2),\n    backgroundColor: \"#9a0007\",\n    color: \"white\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#650000\",\n    },\n  },\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n}));\n\nconst CssTextField = withStyles({\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"white\",\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"green\",\n      },\n    },\n  },\n})(TextField);\n\nexport const UploadProduct = () => {\n  const isLoggedIn = useReactiveVar(isLoggedInVar);\n  const history = useHistory();\n  const classes = useStyles();\n  const [fileName, setFileName] = useState<string | null>();\n  const [productId, setProductId] = useState<number | null>();\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, isLoggedIn]);\n\n  const onSubmit = () => {\n    const { productName, description, startPrice } = getValues();\n    uploadProductMutation({\n      variables: {\n        input: {\n          productName,\n          description,\n          startPrice: +startPrice,\n        },\n      },\n    });\n  };\n\n  const onProductCompleted = (data: uploadProduct) => {\n    const { image } = getValues();\n    const {\n      uploadProduct: { ok, productId },\n    } = data;\n    if (ok && productId && image[0]) {\n      uploadImageMutation({\n        variables: {\n          productId,\n          file: image[0],\n        },\n      });\n      setProductId(productId);\n    } else {\n      history.push(`/product/${productId}`);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const onImageCompleted = (data: uploadImage) => {\n    const {\n      uploadImage: { ok },\n    } = data;\n    if (ok) {\n      history.push(`/product/${productId}`);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const [\n    uploadProductMutation,\n    { data: uploadProductOutput, loading: uploadProductLoading },\n  ] = useMutation<uploadProduct, uploadProductVariables>(UPLOAD_PRODUCT, {\n    onCompleted: onProductCompleted,\n  });\n\n  const [\n    uploadImageMutation,\n    { data: uploadImageOutput, loading: uploadImageLoading },\n  ] = useMutation<uploadImage, uploadImageVariables>(UPLOAD_IMAGE, {\n    onCompleted: onImageCompleted,\n  });\n\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    watch,\n    errors,\n    formState,\n    reset,\n  } = useForm<IForm>({\n    mode: \"onChange\",\n  });\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>Fresh Meat - Upload Product</title>\n      </Helmet>\n      <main>\n        <Container maxWidth=\"md\">\n          <Container className={classes.paper} maxWidth=\"xs\">\n            {/* Title */}\n            <Avatar className={classes.avatar}>\n              <PublishOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Let's sell something!\n            </Typography>\n\n            {/* Form */}\n            <form\n              className={classes.form}\n              noValidate\n              onSubmit={handleSubmit(onSubmit)}\n            >\n              {/* Product Name */}\n              <CssTextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                fullWidth\n                name=\"productName\"\n                label=\"Product name\"\n                type=\"text\"\n                id=\"productName\"\n                required\n                inputRef={register({ required: true })}\n              />\n\n              {/* Description */}\n              <CssTextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                fullWidth\n                name=\"description\"\n                label=\"Description\"\n                type=\"text\"\n                id=\"description\"\n                inputRef={register}\n              />\n\n              {/* Starting price */}\n              <CssTextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                fullWidth\n                name=\"startPrice\"\n                label=\"Starting Price\"\n                type=\"text\"\n                id=\"startPrice\"\n                required\n                inputRef={register({ required: true, pattern: /^\\d+$/ })}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\"></InputAdornment>\n                  ),\n                }}\n              />\n              {errors.startPrice?.type === \"pattern\" && (\n                <FormError errorMessage=\"Only numbers are allowed\" />\n              )}\n\n              {/* Image */}\n              <Container className={classes.buttonContainer}>\n                <Button\n                  variant=\"contained\"\n                  fullWidth\n                  className={classes.button}\n                  component=\"label\"\n                >\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    id=\"image\"\n                    name=\"image\"\n                    hidden\n                    ref={register}\n                    onChange={() => {\n                      setFileName(watch().image[0].name);\n                    }}\n                  />\n                  Select File\n                </Button>\n                {fileName && (\n                  <Container className={classes.fileList}>\n                    <Typography>{`File : ${fileName}`}</Typography>\n                    <Button\n                      className={classes.deleteButton}\n                      variant=\"contained\"\n                      onClick={() => {\n                        reset();\n                        setFileName(null);\n                      }}\n                    >\n                      Reset\n                    </Button>\n                  </Container>\n                )}\n              </Container>\n\n              {/* Submit button */}\n              <SubmitButton\n                message=\"Upload\"\n                loading={uploadProductLoading || uploadImageLoading}\n                validate={!formState.isValid}\n              />\n\n              {/* Error */}\n              {uploadProductOutput?.uploadProduct.error && (\n                <FormError\n                  errorMessage={uploadProductOutput.uploadProduct.error}\n                />\n              )}\n              {uploadImageOutput?.uploadImage.error && (\n                <FormError errorMessage={uploadImageOutput.uploadImage.error} />\n              )}\n            </form>\n          </Container>\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import { gql, useLazyQuery, useMutation } from \"@apollo/client\";\nimport {\n  Avatar,\n  Button,\n  CircularProgress,\n  Container,\n  makeStyles,\n  TextField,\n  Typography,\n  withStyles,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { NotFound } from \"../components/not-found\";\nimport { useMe } from \"../hooks/use-me\";\nimport {\n  productDetail,\n  productDetailVariables,\n} from \"../__generated__/productDetail\";\nimport { PRODUCT_DETAIL } from \"./product-detail\";\nimport EditIcon from \"@material-ui/icons/EditOutlined\";\nimport { useForm } from \"react-hook-form\";\nimport { SubmitButton } from \"../components/button\";\nimport { FormError } from \"../components/form-error\";\nimport indigo from \"@material-ui/core/colors/indigo\";\nimport { UPLOAD_IMAGE } from \"./upload-product\";\nimport {\n  editProduct,\n  editProductVariables,\n} from \"../__generated__/editProduct\";\nimport {\n  uploadImage,\n  uploadImageVariables,\n} from \"../__generated__/uploadImage\";\n\ninterface IParam {\n  id: string;\n}\n\ninterface IForm {\n  productName: string;\n  description?: string;\n  startPrice: string;\n  image: IFile;\n}\n\ninterface IFile {\n  [index: number]: { name: string };\n}\n\nconst EDIT_PRODUCT = gql`\n  mutation editProduct($input: EditProductDto!) {\n    editProduct(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: theme.spacing(24),\n  },\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  buttonContainer: {\n    margin: theme.spacing(2, 0, 6),\n    padding: 0,\n  },\n  button: {\n    backgroundColor: indigo[900],\n    color: \"white\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#000051\",\n    },\n  },\n  fileList: {\n    padding: theme.spacing(2, 0),\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  deleteButton: {\n    padding: theme.spacing(0.4, 1.2),\n    backgroundColor: \"#9a0007\",\n    color: \"white\",\n    \"&.MuiButton-root:hover\": {\n      backgroundColor: \"#650000\",\n    },\n  },\n}));\n\nconst CssTextField = withStyles({\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"white\",\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"green\",\n      },\n    },\n  },\n})(TextField);\n\nexport const EditProduct = () => {\n  const { id } = useParams<IParam>();\n  const history = useHistory();\n  const classes = useStyles();\n  const [fileName, setFileName] = useState<string | null>();\n  const [newImage, setNewImage] = useState<boolean>(false);\n  const [deleteImage, setDeleteImage] = useState<boolean>(false);\n  const [productId, setProductId] = useState<number | null>();\n  const { data: meOutput, loading: meLoading } = useMe();\n  const [\n    productDetailQuery,\n    { data: productDetailOutput, loading: productDetailLoading },\n  ] = useLazyQuery<productDetail, productDetailVariables>(PRODUCT_DETAIL);\n\n  useEffect(() => {\n    if (!id) {\n      history.push(\"/\");\n    }\n    if (id) {\n      productDetailQuery({\n        variables: {\n          input: {\n            productId: +id,\n          },\n        },\n      });\n    }\n    if (!productDetailLoading && productDetailOutput?.productDetail.ok) {\n      setFileName(productDetailOutput.productDetail.product?.picture?.fileName);\n    }\n  }, [\n    history,\n    id,\n    productDetailQuery,\n    productDetailLoading,\n    productDetailOutput,\n  ]);\n\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    formState,\n    reset,\n    watch,\n  } = useForm<IForm>({\n    mode: \"onChange\",\n  });\n\n  const onSubmit = () => {\n    const { productName, description, startPrice } = getValues();\n    setProductId(productDetailOutput?.productDetail.product?.id);\n    editProductMtation({\n      variables: {\n        input: {\n          productId: +id,\n          productName,\n          description,\n          startPrice: +startPrice,\n          deleteImage,\n        },\n      },\n    });\n  };\n\n  const onEditCompleted = (data: editProduct) => {\n    const { image } = getValues();\n    const {\n      editProduct: { ok },\n    } = data;\n\n    if (ok) {\n      if (newImage && productDetailOutput?.productDetail.product) {\n        uploadImageMutation({\n          variables: {\n            productId: productDetailOutput.productDetail.product.id,\n            file: image[0],\n          },\n        });\n      }\n      if (!newImage) {\n        history.push(`/product/${productId}`);\n        window.scrollTo(0, 0);\n        window.location.reload();\n      }\n    }\n  };\n\n  const onUploadCompleted = (data: uploadImage) => {\n    const {\n      uploadImage: { ok },\n    } = data;\n    if (ok) {\n      history.push(`/product/${productId}`);\n      window.scrollTo(0, 0);\n      window.location.reload();\n    }\n  };\n\n  const [\n    editProductMtation,\n    { data: editProductOutput, loading: editProductLoading },\n  ] = useMutation<editProduct, editProductVariables>(EDIT_PRODUCT, {\n    onCompleted: onEditCompleted,\n  });\n\n  const [\n    uploadImageMutation,\n    { data: uploadImageOutput, loading: uploadImageLoading },\n  ] = useMutation<uploadImage, uploadImageVariables>(UPLOAD_IMAGE, {\n    onCompleted: onUploadCompleted,\n  });\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>Fresh Meat - Edit Product</title>\n      </Helmet>\n      <main>\n        <Container maxWidth=\"md\">\n          {meLoading || productDetailLoading ? (\n            <Container className={classes.loading}>\n              <CircularProgress size={24} color=\"secondary\" />\n            </Container>\n          ) : !meOutput ||\n            !productDetailOutput?.productDetail.ok ||\n            meOutput.me.id !==\n              productDetailOutput.productDetail.product?.seller.id ? (\n            <NotFound />\n          ) : (\n            <Container maxWidth=\"xs\">\n              <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                  <EditIcon />\n                </Avatar>\n\n                {/* Title */}\n                <Typography component=\"h1\" variant=\"h5\">\n                  Let's edit your product!\n                </Typography>\n\n                {/* Form */}\n                <form\n                  className={classes.form}\n                  noValidate\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  {/* Product name */}\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    name=\"productName\"\n                    label=\"New product name\"\n                    type=\"text\"\n                    id=\"productName\"\n                    required\n                    defaultValue={\n                      productDetailOutput.productDetail.product.productName\n                    }\n                    inputRef={register({ required: true })}\n                  />\n\n                  {/* Description */}\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    name=\"description\"\n                    label=\"New description\"\n                    type=\"text\"\n                    id=\"description\"\n                    defaultValue={\n                      productDetailOutput.productDetail.product.description\n                        ? productDetailOutput.productDetail.product.description\n                        : \"\"\n                    }\n                    inputRef={register}\n                  />\n\n                  {/* Starting price */}\n                  <CssTextField\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    name=\"startPrice\"\n                    label=\"New starting price\"\n                    type=\"text\"\n                    id=\"startPrice\"\n                    required\n                    defaultValue={\n                      productDetailOutput.productDetail.product.startPrice\n                    }\n                    inputRef={register({ required: true, pattern: /^\\d+$/ })}\n                  />\n                  {errors.startPrice?.type === \"pattern\" && (\n                    <FormError errorMessage=\"Only numbers are allowed\" />\n                  )}\n\n                  {/* Image */}\n                  <Container className={classes.buttonContainer}>\n                    <Button\n                      variant=\"contained\"\n                      fullWidth\n                      className={classes.button}\n                      component=\"label\"\n                    >\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        id=\"image\"\n                        name=\"image\"\n                        hidden\n                        ref={register}\n                        onChange={() => {\n                          setFileName(watch().image[0].name);\n                          setNewImage(true);\n                          setDeleteImage(true);\n                        }}\n                      />\n                      Select File\n                    </Button>\n                    {fileName && (\n                      <Container className={classes.fileList}>\n                        <Typography>{`File : ${fileName}`}</Typography>\n                        <Button\n                          className={classes.deleteButton}\n                          variant=\"contained\"\n                          onClick={() => {\n                            reset();\n                            setFileName(null);\n                            setNewImage(false);\n                            setDeleteImage(true);\n                          }}\n                        >\n                          Delete\n                        </Button>\n                      </Container>\n                    )}\n                  </Container>\n\n                  {/* Submit button */}\n                  <SubmitButton\n                    message=\"Update\"\n                    validate={!formState.isValid}\n                    loading={editProductLoading || uploadImageLoading}\n                  />\n                  {editProductOutput?.editProduct.error && (\n                    <FormError\n                      errorMessage={editProductOutput.editProduct.error}\n                    />\n                  )}\n                  {uploadImageOutput?.uploadImage.error && (\n                    <FormError\n                      errorMessage={uploadImageOutput.uploadImage.error}\n                    />\n                  )}\n                </form>\n              </div>\n            </Container>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Footer } from \"../components/footer\";\nimport { Header } from \"../components/header\";\nimport { NotFound } from \"../components/not-found\";\nimport { EditAccount } from \"../pages/edit-account\";\nimport { Home } from \"../pages/home\";\nimport { DeleteAccount } from \"../pages/delete-account\";\nimport { UserDetail } from \"../pages/user-detail\";\nimport { MyProfile } from \"../pages/my-profile\";\nimport { ProductDetail } from \"../pages/product-detail\";\nimport { Login } from \"../pages/login\";\nimport { Signup } from \"../pages/signup\";\nimport { UploadProduct } from \"../pages/upload-product\";\nimport { EditProduct } from \"../pages/edit-product\";\n\nexport const LoggedInRouter = () => {\n  return (\n    <Router>\n      <Switch>\n        {/* Private */}\n        <Route path=\"/edit-account\" exact>\n          <Header title=\"Edit Account\" />\n          <EditAccount />\n        </Route>\n        <Route path=\"/delete-account\" exact>\n          <Header title=\"Delete Account\" />\n          <DeleteAccount />\n        </Route>\n        <Route path=\"/my-profile\" exact>\n          <Header title=\"My Profile\" />\n          <MyProfile />\n        </Route>\n        <Route path=\"/product/new\" exact>\n          <Header title=\"Upload Product\" />\n          <UploadProduct />\n        </Route>\n        <Route path=\"/edit-product/:id\" exact>\n          <Header title=\"Edit Product\" />\n          <EditProduct />\n        </Route>\n\n        {/* Public */}\n        <Route path=\"/login\" exact>\n          <Header title=\"Login\" />\n          <Login />\n        </Route>\n        <Route path=\"/signup\" exact>\n          <Header title=\"Sign up\" />\n          <Signup />\n        </Route>\n        <Route path=\"/user/:id\" exact>\n          <Header title=\"Profile\" />\n          <UserDetail />\n        </Route>\n        <Route path=\"/product/:id\" exact>\n          <Header title=\"Product Detail\" />\n          <ProductDetail />\n        </Route>\n        <Route path=\"/\" exact>\n          <Header title=\"Fresh Meat\" />\n          <Home />\n        </Route>\n        <Route>\n          <Header title=\"Not Found\" />\n          <NotFound />\n        </Route>\n      </Switch>\n      <Footer />\n    </Router>\n  );\n};\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport const theme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: {\n      light: \"#484848\",\n      main: \"#212121\",\n      dark: \"#000000\",\n      contrastText: \"#ffffff\",\n    },\n    secondary: {\n      light: \"#4c8c4a\",\n      main: \"#1b5e20\",\n      dark: \"#003300\",\n      contrastText: \"#ffffff\",\n    },\n  },\n  overrides: {\n    MuiStepIcon: {\n      root: {\n        \"&$completed\": {\n          color: \"#1b5e20\",\n        },\n        \"&$active\": {\n          color: \"#1b5e20\",\n        },\n      },\n    },\n    MuiCssBaseline: {\n      \"@global\": {\n        body: {\n          fontSize: \"12px\",\n          minHeight: \"100vh\",\n          backgroundColor: \"#212121\",\n        },\n      },\n    },\n  },\n});\n","import React from \"react\";\nimport {\n  ThemeProvider,\n  unstable_createMuiStrictModeTheme,\n} from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { LoggedInRouter } from \"./router/logged-in-router\";\nimport { theme } from \"./config\";\n\nfunction App() {\n  const updatedTheme = unstable_createMuiStrictModeTheme(theme);\n\n  return (\n    <ThemeProvider theme={updatedTheme}>\n      <CssBaseline />\n      <LoggedInRouter />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ApolloProvider } from \"@apollo/client\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { client } from \"./apollo\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { HelmetProvider } from \"react-helmet-async\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <CssBaseline />\n      <HelmetProvider>\n        <App />\n      </HelmetProvider>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}